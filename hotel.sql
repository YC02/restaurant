-- 1. 餐桌表
CREATE TABLE if not EXISTS dinnerTable(
   id INT PRIMARY KEY AUTO_INCREMENT,  -- 餐桌主键
   tableStatus INT DEFAULT 0,          -- 餐桌状态：0，空闲； 1，有人
   orderDate DATETIME
);
INSERT into dinnerTable(id) 
VALUES(1),
(2),
(3),
(4),
(5),
(6),
(7),
(8),
(9),
(10),
(11),
(12),
(13),
(14),
(15),
(16),
(17),
(18),
(19),
(20);


-- 2. 菜类别表
CREATE TABLE if not EXISTS foodType(
    id INT PRIMARY KEY AUTO_INCREMENT,  -- 类别主键
    typeName VARCHAR(20)		-- 类别名称
);
INSERT into foodType(id,typeName) 
VALUES(1,'热菜'),
(2,'凉菜'),
(3,'汤羹'),
(4,'饮料酒水'),
(5,'小吃'),
(6,'西餐'),
(7,'烘焙');

-- 3. 菜品种表
CREATE TABLE if not EXISTS food(
  id INT PRIMARY KEY AUTO_INCREMENT,  -- 主键
  foodName VARCHAR(20),		      -- 菜名称
foodType_id INT REFERENCES foodType(id),-- 所属菜系, 外键字段
  remainFood INT,          -- 库存      
  price DOUBLE,			      -- 价格
  mprice DOUBLE,		      -- 会员价格
  remark VARCHAR(200)		      -- 简介
 );
ALTER TABLE food ADD CONSTRAINT fk FOREIGN KEY(foodType_id) REFERENCES foodType(id);
INSERT into food(id,foodName,foodType_id,remainFood,price,mprice,remark) 
VALUES(1,'微辣版秋刀鱼',1,100,38,38*0.8,' '),
(2,'麻辣土豆片',1,100,18,18*0.8,' '),
(3,'清炒荷兰豆',1,100,18,18*0.8,' '),
(4,'牛肉仔姜炒饭',1,100,38,38*0.8,' '),
(5,'丝瓜炒肉',1,100,38,38*0.8,' '),
(6,'酱爆田鸡',1,100,38,38*0.8,' '),
(7,'炒南瓜丝',1,100,18,18*0.8,' '),
(8,'酱爆八爪鱼',1,100,38,38*0.8,' '),
(9,'小炒肉皮',1,100,38,38*0.8,' '),
(10,'豆角炒肉皮',1,100,38,38*0.8,' '),
(11,'绍酒南乳五花肉',1,100,38,38*0.8,' '),
(12,'清蒸大虾',1,100,38,38*0.8,' '),
(13,'蒜香鸡丁',1,100,38,38*0.8,' '),
(14,'豇豆土豆条',1,100,18,18*0.8,' '),
(16,'炖芸豆',1,100,18,18*0.8,' '),
(17,'清炒菜心',1,100,18,18*0.8,' '),
(18,'麻婆豆腐',1,100,18,18*0.8,' '),
(19,'椒盐排骨',1,100,38,38*0.8,' '),
(20,'青椒炒海兔',1,100,38,38*0.8,' '),
(21,'空心菜炒五花肉',1,100,38,38*0.8,' '),
(22,'筒骨炖冬瓜',1,100,38,38*0.8,' '),
(23,'肉丁炒豆角丁',1,100,38,38*0.8,' '),
(24,'番茄焖腐竹',1,100,38,38*0.8,' '),
(25,'口水牛蛙',1,100,38,38*0.8,' '),
(26,'酱烧茄子',1,100,18,18*0.8,' '),
(27,'青椒炒海带',1,100,18,18*0.8,' '),
(28,'黑胡椒煎豆腐',1,100,18,18*0.8,' '),
(29,'地三鲜',1,100,18,18*0.8,' '),
(30,'虾球樱玉豆腐',1,100,38,38*0.8,' '),
(31,'水炒香葱鸡蛋',1,100,38,38*0.8,' '),
(32,'鲜黄花木耳拌粉丝',2,100,18,18*0.8,' '),
(33,'冷吃牛肉',2,100,38,38*0.8,' '),
(34,'湿花生拌仔姜',2,100,18,18*0.8,' '),
(35,'凉拌烤麸',2,100,18,18*0.8,' '),
(36,'拌白砍',2,100,18,18*0.8,' '),
(37,'口水五花肉',2,100,38,38*0.8,' '),
(38,'香卤莲藕',2,100,18,18*0.8,' '),
(39,'黄瓜凉粉条',2,100,18,18*0.8,' '),
(40,'菠菜茎拌土豆',2,100,18,18*0.8,' '),
(41,'鸡丝拌黄瓜',2,100,38,38*0.8,' '),
(42,'口水鸡',2,100,38,38*0.8,' '),
(43,'葱油金针菇',2,100,18,18*0.8,' '),
(44,'秘制酱牛肉',2,100,38,38*0.8,' '),
(45,'凉拌粉丝',2,100,18,18*0.8,' '),
(46,'黄瓜凉粉',2,100,18,18*0.8,' '),
(47,'凉拌木耳',2,100,18,18*0.8,' '),
(48,'凉拌腐竹花生米',2,100,18,18*0.8,' '),
(49,'麻辣鸡丝',2,100,38,38*0.8,' '),
(50,'酸辣凉粉',2,100,18,18*0.8,' '),
(51,'玉米胡萝卜龙骨汤',3,100,38,38*0.8,' '),
(52,'油条丝瓜汤',3,100,18,18*0.8,' '),
(53,'黄骨鱼豆腐汤',3,100,38,38*0.8,' '),
(54,'豆芽丝瓜汤',3,100,38,38*0.8,' '),
(55,'蛋白丝瓜枸杞汤',3,100,38,38*0.8,' '),
(56,'山药排骨汤',3,100,38,38*0.8,' '),
(57,'榨菜丝海鲜姑樱豆腐汤',3,100,38,38*0.8,' '),
(58,'西红柿鸡蛋汤',3,100,38,38*0.8,' '),
(59,'番茄土豆牛腩汤',3,100,38,38*0.8,' '),
(60,'滑肉海鲜番茄汤',3,100,38,38*0.8,' '),
(61,'爆米花',5,100,38,38*0.8,' '),
(62,'原味雪花酥',5,100,38,38*0.8,' '),
(63,'红糖汤圆',5,100,38,38*0.8,' '),
(64,'黑椒土豆泥',5,100,38,38*0.8,' '),
(65,'南瓜双薯麻饼',5,100,38,38*0.8,' '),
(66,'卡通土豆泥',5,100,38,38*0.8,' '),
(67,'凉皮',5,100,38,38*0.8,' '),
(68,'鸡蛋肠粉',5,100,38,38*0.8,' '),
(69,'迷你小馒头',5,100,38,38*0.8,' '),
(70,'炸甜甜圈',5,100,38,38*0.8,' '),
(71,'烤鱿鱼须',5,100,38,38*0.8,' '),
(72,'五香蚕豆',5,100,38,38*0.8,' '),
(73,'羊肉串',5,100,38,38*0.8,' '),
(74,'香卤鸡爪',5,100,38,38*0.8,' '),
(75,'意大利肉酱面',6,100,48,48*0.8,' '),
(76,'胡萝卜浓汤意大利面',6,100,48,48*0.8,' '),
(77,'意式减肥牛扒',6,100,48,48*0.8,' '),
(78,'柠檬烤巴沙鱼配土豆沙拉',6,100,28,28*0.8,' '),
(79,'腊肠披萨',6,100,48,48*0.8,' '),
(80,'奥尔良鸡腿堡',6,100,18,18*0.8,' '),
(81,'水果三明治',6,100,18,18*0.8,' '),
(82,'黑椒牛排',6,100,48,48*0.8,' '),
(83,'黑米鲜虾薄底披萨',6,100,48,48*0.8,' '),
(84,'芝士焗面',6,100,38,38*0.8,' '),
(85,'奥尔良烤翅',6,100,18,18*0.8,' '),
(86,'蛋白舒芙蕾',7,100,28,28*0.8,' '),
(87,'枣泥海绵纸杯蛋糕',7,100,28,28*0.8,' '),
(88,'黑芝麻戚风蛋糕',7,100,28,28*0.8,' '),
(89,'奶香吐司',7,100,28,28*0.8,' '),
(90,'海绵戚风蛋糕',7,100,28,28*0.8,' '),
(91,'港式酸奶西多士',7,100,28,28*0.8,' '),
(92,'蜂蜜橙香吐司',7,100,28,28*0.8,' '),
(93,'网红白玉卷',7,100,28,28*0.8,' '),
(94,'老式面包',7,100,28,28*0.8,' '),
(95,'玉米豆浆',4,100,18,18*0.8,' '),
(96,'蜂蜜百香果火龙果汁',4,100,18,18*0.8,' '),
(97,'桃桃波波鲜柠茶',4,100,18,18*0.8,' '),
(98,'老盐番石榴汁',4,100,18,18*0.8,' '),
(99,'百香果蜂蜜水',4,100,18,18*0.8,' '),
(100,'香甜玉米籽',4,100,18,128*0.8,' '),
(101,'西瓜汁',4,100,18,18*0.8,' '),
(102,'雪碧',4,100,18,18*0.8,' '),
(103,'可乐',4,100,5,5*0.8,' '),
(104,'雪津啤酒',4,100,5,5*0.8,' '),
(105,'江小白',4,100,18,18*0.8,' '),
(106,'长城红色庄园',4,100,78,78*0.8,' ');


-- 4. 点菜表      (订单基本信息)
CREATE TABLE if not EXISTS orders(
   id INT PRIMARY KEY AUTO_INCREMENT,  -- 主键
   table_id INT  REFERENCES dinnerTable(id), -- 外键： 餐桌编号
   orderDate DATETIME,		       -- 下单日期
   totalPrice DOUBLE,		       -- 订单所有菜需要的总金额
   orderStatus INT DEFAULT 0           -- 订单状态： 0,未结账； 1,已结账
);
ALTER TABLE orders ADD CONSTRAINT od FOREIGN KEY(table_id) REFERENCES dinnerTable(id);


-- 5. 订单明细表  (主要是菜品种)
CREATE TABLE if not EXISTS orderDetail(
   id INT PRIMARY KEY AUTO_INCREMENT,  -- 主键
   orderId INT  REFERENCES orders(id) ,			       -- 外键：引入的是订单表的主键
   preorderId INT  REFERENCES preOrder(id),			       -- 外键：引入的是订单表的主键
   food_id INT  REFERENCES food(id),			       -- 外键：引用的是菜信息表的主键
   foodCount INT                       -- 菜的数量
);
ALTER TABLE orderDetail ADD CONSTRAINT ood FOREIGN KEY(orderId) REFERENCES orders(id);
ALTER TABLE orderDetail ADD CONSTRAINT opd FOREIGN KEY(preorderId) REFERENCES preOrder(id);
ALTER TABLE orderDetail ADD CONSTRAINT ofd FOREIGN KEY(food_id) REFERENCES food(id);


-- 6. 预订订单明细表  
CREATE TABLE if not EXISTS preOrder(
   id INT PRIMARY KEY AUTO_INCREMENT,  -- 主键
   name VARCHAR(20),           -- 姓名
   pthoe  VARCHAR(50),			     -- 手机号码
   orderDate datetime,            -- 下单日期
   table_id INT  REFERENCES dinnerTable(id),			       -- 外键：引用的是餐桌表的主键
   foodCount INT                       -- 菜的数量
);
ALTER TABLE preOrder ADD CONSTRAINT pd FOREIGN KEY(table_id) REFERENCES dinnerTable(id);


-- 7. 会员信息表  
CREATE TABLE if not EXISTS member(
   id INT PRIMARY KEY AUTO_INCREMENT,         -- 主键身份证号
   memberName  VARCHAR(20),	       -- 名字
   phone VARCHAR(30),			       -- 号码   
   gender VARCHAR(20)               -- 性别
);

INSERT into member(id,memberName, phone,gender) 
VALUES(1,'杨葱','15797867284','男'),
(2,'杨11','15797867285','男'),
(3,'杨12','15797867286','男'),
(4,'杨13','15797867287','男'),
(5,'杨14','15797867288','男'),
(6,'杨15','15797867289','男'),
(7,'杨16','15797867280','男');

-- 8. 员工信息表  
CREATE TABLE if not EXISTS staff(
   id INT PRIMARY KEY AUTO_INCREMENT,  -- 主键 员工号
   sName  VARCHAR(20),	 -- 名字
   phone VARCHAR(30),		   -- 号码 
   gender VARCHAR(20),     -- 性别 
   post	  VARCHAR(20)      -- 职务    
);
INSERT into staff(id,sName, phone,gender,post) 
VALUES(100,'杨葱','15797867284','男','总经理'),
(101,'阿兰','15797867284','女','前台'),
(102,'小刚','15797867284','男','服务员'),
(103,'阿红','15797867284','女','服务员'),
(104,'阿紫','15797867284','女','服务员'),
(105,'阿粉','15797867284','女','服务员'),
(106,'阿黄','15797867284','女','服务员'),
(107,'小黑','15797867284','男','服务员'),
(108,'小白','15797867284','男','服务员'),
(109,'小灰','15797867284','男','服务员');
